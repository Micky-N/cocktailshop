{% extends 'base.html.twig' %}

{% block title %}

{% endblock %}

{% block body %}
    <div class="container mx-auto px-6">
        <div class="grid grid-cols-2 items-start">
            <div class="h-96">
                <img class="h-full w-full rounded-md bg-cover bg-center max-w-lg mx-auto"
                     src="{{ cocktail.url }}"
                     alt="{{ cocktail.name }}">
            </div>
            <div class="w-full max-w-lg mx-auto ml-8">
                <div class="flex flex-col">
                    <div class="flex items-center justify-between space-x-2">
                        <h1 class="text-gray-700 font-semibold uppercase text-2xl">{{ cocktail.name }}</h1>
                        {% if cocktail.vip %}
                            <p class="flex items-center font-bold text-yellow-300 text-2xl">
                                <svg class="w-6 h-6" viewBox="0 0 24 24" version="1.1"
                                     xmlns="http://www.w3.org/2000/svg"
                                     fill="currentColor">
                                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                    <g id="SVGRepo_iconCarrier"><title>VIP_4_line</title>
                                        <g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                            <g id="Business" transform="translate(-288.000000, -192.000000)">
                                                <g id="VIP_4_line" transform="translate(288.000000, 192.000000)">
                                                    <path d="M24,0 L24,24 L0,24 L0,0 L24,0 Z M12.5934901,23.257841 L12.5819402,23.2595131 L12.5108777,23.2950439 L12.4918791,23.2987469 L12.4918791,23.2987469 L12.4767152,23.2950439 L12.4056548,23.2595131 C12.3958229,23.2563662 12.3870493,23.2590235 12.3821421,23.2649074 L12.3780323,23.275831 L12.360941,23.7031097 L12.3658947,23.7234994 L12.3769048,23.7357139 L12.4804777,23.8096931 L12.4953491,23.8136134 L12.4953491,23.8136134 L12.5071152,23.8096931 L12.6106902,23.7357139 L12.6232938,23.7196733 L12.6232938,23.7196733 L12.6266527,23.7031097 L12.609561,23.275831 C12.6075724,23.2657013 12.6010112,23.2592993 12.5934901,23.257841 L12.5934901,23.257841 Z M12.8583906,23.1452862 L12.8445485,23.1473072 L12.6598443,23.2396597 L12.6498822,23.2499052 L12.6498822,23.2499052 L12.6471943,23.2611114 L12.6650943,23.6906389 L12.6699349,23.7034178 L12.6699349,23.7034178 L12.678386,23.7104931 L12.8793402,23.8032389 C12.8914285,23.8068999 12.9022333,23.8029875 12.9078286,23.7952264 L12.9118235,23.7811639 L12.8776777,23.1665331 C12.8752882,23.1545897 12.8674102,23.1470016 12.8583906,23.1452862 L12.8583906,23.1452862 Z M12.1430473,23.1473072 C12.1332178,23.1423925 12.1221763,23.1452606 12.1156365,23.1525954 L12.1099173,23.1665331 L12.0757714,23.7811639 C12.0751323,23.7926639 12.0828099,23.8018602 12.0926481,23.8045676 L12.108256,23.8032389 L12.3092106,23.7104931 L12.3186497,23.7024347 L12.3186497,23.7024347 L12.3225043,23.6906389 L12.340401,23.2611114 L12.337245,23.2485176 L12.337245,23.2485176 L12.3277531,23.2396597 L12.1430473,23.1473072 Z"
                                                          id="MingCute" fill-rule="nonzero"></path>
                                                    <path d="M12.8008,1.40101 C12.4005,0.86717 11.5997,0.867117 11.1992,1.40101 L8.50004,4.99994 L3.85497,4.99994 C2.70773,4.99994 1.98516,6.23543 2.5476,7.23534 L10.9106,22.1028 C11.3885,22.9524 12.6116,22.9524 13.0895,22.1028 L21.4525,7.23534 C22.0149,6.23543 21.2924,4.99994 20.1451,4.99994 L15.5,4.99994 L12.8008,1.40101 Z M10.2035,6.06203 L12,3.66661 L13.7966,6.06202 L12,9.05629 L10.2035,6.06203 Z M8.43385,6.99994 L4.70989,6.99994 L12,19.9602 L19.2902,6.99994 L15.5662,6.99994 L12.9433,11.3715 C12.516,12.0836 11.484,12.0836 11.0568,11.3715 L8.43385,6.99994 Z"
                                                          id="形状" fill="currentColor"></path>
                                                </g>
                                            </g>
                                        </g>
                                    </g>
                                </svg>
                                VIP
                            </p>
                        {% endif %}
                    </div>
                    <div class="flex items-end justify-between">
                        <h3 class="text-gray-500 text-lg mt-1">{{ cocktail.price|format_currency('EUR') }}</h3>
                        {% if app.user %}
                            <span class="text-gray-700 text-md">Quantity: <span
                                        class="font-bold">{{ cart_service.get[cocktail.id] is defined ? cart_service.get[cocktail.id] : 0 }}</span></span>
                        {% endif %}
                    </div>
                </div>
                <hr class="my-3">
                <div class="mt-2">
                    <div class="text-gray-700 text-center mt-6">
                        <h3 class="underline underline-offset-4">Description</h3>
                        <p class="mt-2">{{ cocktail.description }}</p>
                    </div>
                    {% if cocktail.ingredients|length %}
                        <div class="text-gray-700 text-center mt-6">
                            <h3 class="underline underline-offset-4">Ingredients</h3>
                            <ul class="mt-2">
                                {% for ingredient in cocktail.ingredients %}
                                    <li>{{ ingredient }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                    {% endif %}
                </div>
                {% if app.user %}
                    <form method="post" action="{{ path('cart_add', {cocktail: cocktail.id}) }}" class="mt-6">
                        <button class="px-8 py-2 bg-indigo-600 text-white text-sm font-medium rounded hover:bg-indigo-500 focus:outline-none focus:bg-indigo-500">
                            <svg class="h-5 w-5" fill="none" stroke-linecap="round" stroke-linejoin="round"
                                 stroke-width="2"
                                 viewBox="0 0 24 24" stroke="currentColor">
                                <path d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
                            </svg>
                        </button>
                    </form>
                {% endif %}
            </div>
        </div>
        {% if app.user %}
        <div class="flex flex-col space-y-6 mt-14">
            {% for comment in cocktail.comments %}
                <div class="border rounded-md p-3 ml-3">
                    <div class="flex gap-3 items-center">
                        <h3 class="font-bold">
                            {{ comment.user.fullName }}
                        </h3>
                    </div>
                    <p class="text-gray-600 mt-2">
                        {{ comment.content }}
                    </p>
                </div>
            {% endfor %}
            {{ form_start(form, {attr: {class: 'flex flex-col space-y-6'}}) }}
            {{ form_widget(form.content, {attr: {placeholder: 'Type your comment', class: 'bg-gray-50 rounded border border-gray-400 leading-normal h-20 p-3 ml-3 font-medium placeholder-gray-700 focus:outline-none focus:bg-white'}}) }}
            {{ form_widget(form.submit, {attr: {class: 'px-2.5 py-1.5 rounded-md w-fit text-white text-sm bg-indigo-500'}, label: 'Save comment'}) }}
            {{ form_end(form) }}
        </div>
        {% endif %}
    </div>
{% endblock %}


