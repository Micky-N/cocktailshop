{% extends 'base.html.twig' %}

{% block body %}
    <form class="relative mt-6 mb-8 max-w-lg mx-auto">
        <label for="search" class="absolute inset-y-0 left-0 px-3 flex items-center">
            <svg class="h-5 w-5 text-gray-500" viewBox="0 0 24 24" fill="none">
                <path d="M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z"
                      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
        </label>
        <input id="search" name="search"
               class="w-full border rounded-md pl-10 pr-4 py-2 focus:border-blue-500 focus:outline-none focus:shadow-outline"
               type="text" placeholder="Search">
        {% if app.request.query.get('search', null) %}
            <div class="absolute inset-y-0 right-0 px-3 flex items-center">
                <a href="{{ path('cocktail_index') }}"
                   class="rounded-md px-3 py-1 bg-blue-600 text-white hover:bg-blue-500 focus:outline-none focus:bg-blue-500">reset</a>
            </div>
        {% endif %}
    </form>
    <div class="container mx-auto px-32">
        <h3 class="text-gray-700 text-2xl font-medium flex items-center space-x-10">All our magnificent cocktails</h3>
        <div class="grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 mt-6">
            {% for cocktail in cocktails %}
                <div class="w-full max-w-sm mx-auto rounded-md shadow-md overflow-hidden">
                    <a href="{{ path('cocktail_show', {slug: cocktail.slug}) }}"
                       class="flex items-end justify-end h-56 w-full bg-cover bg-center bg-no-repeat relative"
                       style="background-image: url('{{ cocktail.url }}')">
                        {% if cocktail.vip %}
                            <svg class="w-6 h-6 absolute top-4 left-4 text-yellow-300" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg"
                                 xmlns:xlink="http://www.w3.org/1999/xlink" fill="currentColor">
                                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                                <g id="SVGRepo_iconCarrier"><title>VIP_4_line</title>
                                    <g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                        <g id="Business" transform="translate(-288.000000, -192.000000)">
                                            <g id="VIP_4_line" transform="translate(288.000000, 192.000000)">
                                                <path d="M24,0 L24,24 L0,24 L0,0 L24,0 Z M12.5934901,23.257841 L12.5819402,23.2595131 L12.5108777,23.2950439 L12.4918791,23.2987469 L12.4918791,23.2987469 L12.4767152,23.2950439 L12.4056548,23.2595131 C12.3958229,23.2563662 12.3870493,23.2590235 12.3821421,23.2649074 L12.3780323,23.275831 L12.360941,23.7031097 L12.3658947,23.7234994 L12.3769048,23.7357139 L12.4804777,23.8096931 L12.4953491,23.8136134 L12.4953491,23.8136134 L12.5071152,23.8096931 L12.6106902,23.7357139 L12.6232938,23.7196733 L12.6232938,23.7196733 L12.6266527,23.7031097 L12.609561,23.275831 C12.6075724,23.2657013 12.6010112,23.2592993 12.5934901,23.257841 L12.5934901,23.257841 Z M12.8583906,23.1452862 L12.8445485,23.1473072 L12.6598443,23.2396597 L12.6498822,23.2499052 L12.6498822,23.2499052 L12.6471943,23.2611114 L12.6650943,23.6906389 L12.6699349,23.7034178 L12.6699349,23.7034178 L12.678386,23.7104931 L12.8793402,23.8032389 C12.8914285,23.8068999 12.9022333,23.8029875 12.9078286,23.7952264 L12.9118235,23.7811639 L12.8776777,23.1665331 C12.8752882,23.1545897 12.8674102,23.1470016 12.8583906,23.1452862 L12.8583906,23.1452862 Z M12.1430473,23.1473072 C12.1332178,23.1423925 12.1221763,23.1452606 12.1156365,23.1525954 L12.1099173,23.1665331 L12.0757714,23.7811639 C12.0751323,23.7926639 12.0828099,23.8018602 12.0926481,23.8045676 L12.108256,23.8032389 L12.3092106,23.7104931 L12.3186497,23.7024347 L12.3186497,23.7024347 L12.3225043,23.6906389 L12.340401,23.2611114 L12.337245,23.2485176 L12.337245,23.2485176 L12.3277531,23.2396597 L12.1430473,23.1473072 Z"
                                                      id="MingCute" fill-rule="nonzero"></path>
                                                <path d="M12.8008,1.40101 C12.4005,0.86717 11.5997,0.867117 11.1992,1.40101 L8.50004,4.99994 L3.85497,4.99994 C2.70773,4.99994 1.98516,6.23543 2.5476,7.23534 L10.9106,22.1028 C11.3885,22.9524 12.6116,22.9524 13.0895,22.1028 L21.4525,7.23534 C22.0149,6.23543 21.2924,4.99994 20.1451,4.99994 L15.5,4.99994 L12.8008,1.40101 Z M10.2035,6.06203 L12,3.66661 L13.7966,6.06202 L12,9.05629 L10.2035,6.06203 Z M8.43385,6.99994 L4.70989,6.99994 L12,19.9602 L19.2902,6.99994 L15.5662,6.99994 L12.9433,11.3715 C12.516,12.0836 11.484,12.0836 11.0568,11.3715 L8.43385,6.99994 Z"
                                                      id="形状" fill="currentColor"></path>
                                            </g>
                                        </g>
                                    </g>
                                </g>
                            </svg>
                        {% endif %}
                        <div class="bg-white/25 opacity-0 hover:opacity-100 absolute w-full h-full top-0 left-0 transition duration-75 ease-in-out"></div>
                        {% if app.user %}
                            <form method="post" action="{{ path('cart_add', {cocktail: cocktail.id}) }}"
                                  class="mx-5 -mb-4 z-[2]">
                                <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
                                <button class="p-2 rounded-full bg-blue-600 text-white hover:bg-blue-500 focus:outline-none focus:bg-blue-500">
                                    <svg class="h-5 w-5" fill="none" stroke-linecap="round" stroke-linejoin="round"
                                         stroke-width="2"
                                         viewBox="0 0 24 24" stroke="currentColor">
                                        <path d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
                                    </svg>
                                </button>
                            </form>
                        {% endif %}
                    </a>
                    <div class="px-5 py-3">
                        <h3 class="text-xl text-gray-700 font-bold uppercase">{{ cocktail.name }}</h3>
                        <h2 class="text-lg text-yellow-500 mt-2">{{ cocktail.price|format_currency('EUR') }}</h2>
                        <p class="mt-2">{{ cocktail.description }}</p>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}

{% block script %}
    <script>

    </script>
{% endblock %}